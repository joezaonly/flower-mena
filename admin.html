<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Mena Flower</title>
    <link rel="stylesheet" href="admin.css">
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/lucide@0.344.0/dist/umd/lucide.min.js"></script>
</head>
<body>
    <div id="admin-app">
        <aside class="sidebar">
            <div class="sidebar-logo">ü¶û Admin Panel</div>
            <nav>
                <a href="#" :class="{ active: tab === 'products' }" @click.prevent="tab = 'products'">
                    <i data-lucide="package"></i> ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
                </a>
                <a href="#" :class="{ active: tab === 'orders' }" @click.prevent="tab = 'orders'">
                    <i data-lucide="clipboard-list"></i> ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠
                </a>
                <a href="index.html">
                    <i data-lucide="external-link"></i> ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô
                </a>
            </nav>
        </aside>

        <main class="main-content">
            <!-- Products Management -->
            <section v-if="tab === 'products'">
                <div class="page-header">
                    <h1>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h1>
                    <button class="btn-primary" @click="openModal()">
                        <i data-lucide="plus"></i> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà
                    </button>
                </div>

                <div class="products-table">
                    <table>
                        <thead>
                            <tr>
                                <th>‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</th>
                                <th>‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>
                                <th>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</th>
                                <th>‡∏£‡∏≤‡∏Ñ‡∏≤</th>
                                <th>Valentine</th>
                                <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr v-for="product in products" :key="product.id">
                                <td><img :src="product.image" class="product-thumb"></td>
                                <td>{{ product.name }}</td>
                                <td><span class="badge" :class="product.type">{{ product.type === 'fresh' ? '‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ‡∏™‡∏î' : '‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ‡πÅ‡∏´‡πâ‡∏á' }}</span></td>
                                <td>{{ formatPrice(product.price) }}</td>
                                <td><span class="status" :class="{ active: product.isValentine }">{{ product.isValentine ? '‚úì' : '‚Äì' }}</span></td>
                                <td>
                                    <button class="btn-icon" @click="openModal(product)"><i data-lucide="edit"></i></button>
                                    <button class="btn-icon danger" @click="deleteProduct(product.id)"><i data-lucide="trash-2"></i></button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Orders Management -->
            <section v-if="tab === 'orders'">
                <div class="page-header">
                    <h1>‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h1>
                </div>

                <div class="orders-list">
                    <div v-if="orders.length === 0" class="empty-state">
                        <i data-lucide="inbox"></i>
                        <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏Ñ‡πà‡∏∞</p>
                    </div>
                    <div class="order-card" v-for="order in orders" :key="order.id">
                        <div class="order-header">
                            <span class="order-id">#{{ order.id }}</span>
                            <span class="order-date">{{ order.date }}</span>
                            <span class="order-status" :class="order.status">{{ order.status === 'paid' ? '‡∏ä‡∏≥‡∏£‡∏∞‡πÅ‡∏•‡πâ‡∏ß' : '‡∏£‡∏≠‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô' }}</span>
                        </div>
                        <div class="order-items">
                            <div v-for="item in order.items" :key="item.id" class="order-item">
                                <img :src="item.image" class="item-thumb">
                                <span>{{ item.name }}</span>
                                <span>{{ formatPrice(item.price) }}</span>
                            </div>
                        </div>
                        <div class="order-footer">
                            <div class="order-customer">
                                <strong>‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤:</strong> {{ order.customerName }}<br>
                                <strong>‡πÄ‡∏ö‡∏≠‡∏£‡πå:</strong> {{ order.customerPhone }}
                            </div>
                            <div class="order-total">
                                ‡∏£‡∏ß‡∏°: {{ formatPrice(order.total) }}
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Product Modal -->
        <div class="modal-overlay" v-if="showModal" @click.self="showModal = false">
            <div class="modal">
                <h2>{{ editingProduct ? '‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤' : '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà' }}</h2>
                <form @submit.prevent="saveProduct">
                    <div class="form-group">
                        <label>‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
                        <input type="text" v-model="form.name" required>
                    </div>
                    <div class="form-group">
                        <label>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</label>
                        <textarea v-model="form.description" required></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>‡∏£‡∏≤‡∏Ñ‡∏≤ (‡∏ö‡∏≤‡∏ó)</label>
                            <input type="number" v-model.number="form.price" required>
                        </div>
                        <div class="form-group">
                            <label>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</label>
                            <select v-model="form.type">
                                <option value="fresh">‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ‡∏™‡∏î</option>
                                <option value="dry">‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ‡πÅ‡∏´‡πâ‡∏á</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>URL ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</label>
                        <input type="url" v-model="form.image" required>
                    </div>
                    <div class="form-group checkbox">
                        <label>
                            <input type="checkbox" v-model="form.isValentine">
                            ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ß‡∏≤‡πÄ‡∏•‡∏ô‡πÑ‡∏ó‡∏ô‡πå
                        </label>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn-secondary" @click="showModal = false">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                        <button type="submit" class="btn-primary">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="admin.js"></script>
</body>
</html>
