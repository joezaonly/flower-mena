<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mena Flower - ‡∏£‡πâ‡∏≤‡∏ô‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ‡∏Ç‡∏≠‡∏á‡∏ô‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏ô‡∏≤</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&family=Charm:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/lucide@0.344.0/dist/umd/lucide.min.js"></script>
</head>
<body>
    <div id="app">
        <header>
            <nav>
                <div class="logo">Mena Flower ü¶û‚ú®</div>
                <ul>
                    <li><a href="#" @click.prevent="view = 'home'">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a></li>
                    <li><a href="#" @click.prevent="view = 'shop'">‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤</a></li>
                    <li><a href="#" class="nav-valentine" @click.prevent="filterValentine">Valentine Specials</a></li>
                </ul>
                <div class="nav-icons">
                    <div class="cart-icon" @click="showCart = !showCart">
                        <i data-lucide="shopping-cart"></i>
                        <span class="cart-count" v-if="cart.length">{{ cart.length }}</span>
                    </div>
                </div>
            </nav>
        </header>

        <!-- Hero Section -->
        <section id="hero" v-if="view === 'home'">
            <div class="hero-content">
                <h1>‡∏™‡πà‡∏á‡∏°‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏î‡πâ‡∏ß‡∏¢‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ‡∏à‡∏≤‡∏Å‡πÉ‡∏à‡∏ô‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏ô‡∏≤</h1>
                <p>‡∏î‡∏µ‡πÑ‡∏ã‡∏ô‡πå‡∏™‡∏ß‡∏¢ ‡∏™‡∏ö‡∏≤‡∏¢‡∏ï‡∏≤ ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
                <a href="#" class="cta-button" @click.prevent="view = 'shop'">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‚ù§Ô∏è</a>
            </div>
        </section>

        <main class="container">
            <!-- Product Section -->
            <section class="shop-section">
                <h2 class="section-title">{{ view === 'home' ? '‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥' : '‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î' }}</h2>
                
                <div class="filter-bar">
                    <button :class="{ active: filter === 'all' }" @click="filter = 'all'">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
                    <button :class="{ active: filter === 'fresh' }" @click="filter = 'fresh'">‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ‡∏™‡∏î</button>
                    <button :class="{ active: filter === 'dry' }" @click="filter = 'dry'">‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ‡πÅ‡∏´‡πâ‡∏á</button>
                </div>

                <div class="product-grid">
                    <div class="product-card" v-for="product in filteredProducts" :key="product.id">
                        <div class="badge" v-if="product.isValentine">Valentine</div>
                        <div class="product-img-container">
                            <img :src="product.image" :alt="product.name">
                        </div>
                        <div class="product-info">
                            <h3>{{ product.name }}</h3>
                            <p>{{ product.description }}</p>
                            <div class="product-footer">
                                <span class="price">{{ formatPrice(product.price) }}</span>
                                <button class="add-to-cart" @click="addToCart(product)">
                                    <i data-lucide="plus"></i> ‡πÉ‡∏™‡πà‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Shopping Cart Sidebar -->
        <div class="cart-sidebar" :class="{ open: showCart }">
            <div class="cart-header">
                <h2>‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h2>
                <button class="close-cart" @click="showCart = false">&times;</button>
            </div>
            <div class="cart-items">
                <div v-if="cart.length === 0" class="empty-cart">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏Ñ‡πà‡∏∞ ü¶ûü•∫</div>
                <div class="cart-item" v-for="(item, index) in cart" :key="index">
                    <img :src="item.image" :alt="item.name">
                    <div class="item-info">
                        <h4>{{ item.name }}</h4>
                        <span>{{ formatPrice(item.price) }}</span>
                    </div>
                    <button class="remove-item" @click="removeFromCart(index)">&times;</button>
                </div>
            </div>
            <div class="cart-total" v-if="cart.length > 0">
                <div class="total-row">
                    <span>‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏¥‡πâ‡∏ô</span>
                    <span>{{ formatPrice(cartTotal) }}</span>
                </div>
                <button class="checkout-btn" @click="openCheckoutModal">‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏•‡∏¢ üíñ</button>
            </div>
        </div>
        <div class="overlay" v-if="showCart" @click="showCart = false"></div>

        <!-- Checkout Modal with QR Code -->
        <div class="checkout-overlay" v-if="showCheckoutModal" @click.self="showCheckoutModal = false">
            <div class="checkout-modal">
                <button class="close-modal" @click="showCheckoutModal = false">&times;</button>
                
                <!-- Step 1: Customer Info -->
                <div v-if="checkoutStep === 1">
                    <h2>‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏±‡∏î‡∏™‡πà‡∏á</h2>
                    <div class="form-group">
                        <label>‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label>
                        <input type="text" v-model="customerInfo.name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö" required>
                    </div>
                    <div class="form-group">
                        <label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</label>
                        <input type="tel" v-model="customerInfo.phone" placeholder="0812345678" required>
                    </div>
                    <div class="form-group">
                        <label>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏±‡∏î‡∏™‡πà‡∏á</label>
                        <textarea v-model="customerInfo.address" placeholder="‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏™‡πà‡∏á‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ" required></textarea>
                    </div>
                    <div class="form-group">
                        <label>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</label>
                        <textarea v-model="customerInfo.note" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡πå‡∏î, ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö"></textarea>
                    </div>
                    <button class="checkout-btn full-width" @click="goToPayment">‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô ‚Üí</button>
                </div>

                <!-- Step 2: QR Payment -->
                <div v-if="checkoutStep === 2" class="payment-step">
                    <h2>‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏ú‡πà‡∏≤‡∏ô QR Code</h2>
                    <div class="order-summary">
                        <h4>‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h4>
                        <div class="summary-items">
                            <div v-for="item in cart" :key="item.id" class="summary-item">
                                <span>{{ item.name }}</span>
                                <span>{{ formatPrice(item.price) }}</span>
                            </div>
                        </div>
                        <div class="summary-total">
                            <strong>‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏¥‡πâ‡∏ô</strong>
                            <strong>{{ formatPrice(cartTotal) }}</strong>
                        </div>
                    </div>
                    
                    <div class="qr-section">
                        <p>‡∏™‡πÅ‡∏Å‡∏ô QR Code ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏ú‡πà‡∏≤‡∏ô PromptPay</p>
                        <div class="qr-code" id="qrcode"></div>
                        <p class="promptpay-id">PromptPay: 0812345678</p>
                        <p class="amount">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô: <strong>{{ formatPrice(cartTotal) }}</strong></p>
                    </div>
                    
                    <button class="checkout-btn full-width success" @click="confirmPayment">‚úì ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡πâ‡∏ß</button>
                    <button class="back-btn" @click="checkoutStep = 1">‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
                </div>

                <!-- Step 3: Success -->
                <div v-if="checkoutStep === 3" class="success-step">
                    <div class="success-icon">‚úì</div>
                    <h2>‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!</h2>
                    <p>‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏Å‡∏±‡∏ö Mena Flower ‡∏Ñ‡πà‡∏∞ ü¶ûüíñ</p>
                    <p>‡∏´‡∏ô‡∏π‡∏à‡∏∞‡∏£‡∏µ‡∏ö‡∏à‡∏±‡∏î‡∏™‡πà‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏£‡πá‡∏ß‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏ô‡∏∞‡∏Ñ‡∏∞</p>
                    <p class="order-number">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠: #{{ orderNumber }}</p>
                    <button class="checkout-btn" @click="closeCheckout">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô</button>
                </div>
            </div>
        </div>

        <footer>
            <p>&copy; 2026 Mena Flower Project. Created with Love by ‡∏ô‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏ô‡∏≤ ü¶ûüíê</p>
        </footer>
    </div>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="app.js"></script>
</body>
</html>
